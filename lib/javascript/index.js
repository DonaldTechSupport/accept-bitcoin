// Generated by CoffeeScript 1.8.0
(function() {
  var Key, Main, Transaction, bitcore, ee, extend, fs, http,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  http = require('http');

  bitcore = require('bitcore');

  Key = require('./key');

  Transaction = require('./transaction');

  Key = require('./key');

  fs = require('fs');

  ee = require('events').EventEmitter;

  Main = (function() {
    var settings;

    settings = {
      network: bitcore.networks.testnet,
      password: 'enter_your_password_here',
      storePath: './keys.json',
      encryptPrivateKey: false,
      payToAddress: 'mj9vnQvXr4LhLVK1NppXkxo83DaJ5YKarQ',
      payReminderToAddress: null,
      includeUnconfirmed: false,
      checkTransactionEvery: 5000,
      checkBalanceTimeout: 1000 * 60 * 60 * 2,
      checkUnspentTimeout: 1000 * 60 * 60 * 2,
      minimumConfirmations: 1,
      txFee: 0
    };

    function Main(address, o) {
      if (o == null) {
        o = {};
      }
      this.generateAddress = __bind(this.generateAddress, this);
      if (!address) {
        return 'must have address';
      }
      ee.call(this);
      console.log('hello ' + address);
      this.settings = extend(settings, o);
    }

    Main.prototype.generateAddress = function(o) {
      var key;
      key = new Key(extend(settings, o), 'mx5nzg1tRwADWDCU53CSHmY7iac2f4B2YK', 'cUWFtYbNycND7wQ9QZKPimkrKQoU9uYJ8M1nyV7W24bXaVdPhTtQ');
      if (o.alertWhenHasBalance) {
        key.checkBalance();
      }
      return key;
    };

    return Main;

  })();

  extend = function(object, properties) {
    var key, val;
    for (key in properties) {
      val = properties[key];
      object[key] = val;
    }
    return object;
  };

  Main.prototype.__proto__ = ee.prototype;

  module.exports = Main;

}).call(this);
